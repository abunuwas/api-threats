{"openapi":"3.1.0","info":{"title":"API Threats Exercise example_01","description":"Example of vulnerable API.","version":"0.1.0"},"servers":[{"url":"/example_01"}],"paths":{"/products":{"get":{"summary":"List Products","operationId":"list_products_products_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":10,"title":"Per Page"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"price","title":"Order By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListProducts"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/orders":{"get":{"summary":"List Orders","operationId":"list_orders_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"paid","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListOrders"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Place Order","operationId":"place_order_orders_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOrderSchema"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/orders/{order_id}":{"get":{"summary":"Get Order Details","operationId":"get_order_details_orders__order_id__get","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Order Details","operationId":"update_order_details_orders__order_id__put","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOrderSchema"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Order","operationId":"delete_order_orders__order_id__delete","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Order Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/fetch-external-data":{"get":{"summary":"Fetch External Data","operationId":"fetch_external_data_fetch_external_data_get","parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","format":"uri","minLength":1,"title":"Url"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/companies":{"get":{"summary":"Companies","operationId":"companies_companies_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"GetOrderSchema":{"properties":{"product_id":{"type":"string","format":"uuid","title":"Product Id"},"amount":{"type":"integer","title":"Amount"},"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"string","title":"User Id"},"created":{"type":"string","format":"date-time","title":"Created"},"status":{"$ref":"#/components/schemas/OrderStatusEnum"}},"additionalProperties":true,"type":"object","required":["product_id","amount","id","user_id","created","status"],"title":"GetOrderSchema"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListOrders":{"properties":{"orders":{"items":{"$ref":"#/components/schemas/GetOrderSchema"},"type":"array","title":"Orders"}},"type":"object","required":["orders"],"title":"ListOrders"},"ListProducts":{"properties":{"products":{"items":{"$ref":"#/components/schemas/ProductSchema"},"type":"array","title":"Products"}},"type":"object","required":["products"],"title":"ListProducts"},"OrderStatusEnum":{"type":"string","enum":["pending","paid","delivered"],"title":"OrderStatusEnum"},"PlaceOrderSchema":{"properties":{"product_id":{"type":"string","format":"uuid","title":"Product Id"},"amount":{"type":"integer","title":"Amount"}},"additionalProperties":true,"type":"object","required":["product_id","amount"],"title":"PlaceOrderSchema"},"ProductSchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"stock":{"type":"integer","title":"Stock"}},"type":"object","required":["id","name","price","stock"],"title":"ProductSchema"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}
